{{define "tab_model_content"}}
<div class="client-model-traffic-box">
    <div class="client-model-process-step-toolbar">
        <div onclick="prevStep()" class="client-model-process-step-prev" >
            <i class="bars icon"></i>
            <span class="client-model-process-step-prev-title">
                数据集上传
            </span>
        </div>
        <button onclick="nextStep()"  class="ui blue button mini">下一步</button>
    </div>
    <div data-step="0" class="client-model-process-step-box process-step-active">
        <div class="upload-data-list">
            <div  id="upload-file-template" style="display: none;"  class="upload-data-item" >
                <div class="upload-data-item-body">
                    <div class="upload-data-item-icon">
                        <i class="file icon"></i>
                    </div>
                    <div class="upload-data-item-name">mock.csv</div>
                    <div class="upload-data-item-hash">a1bc52</div>
                    <div class="upload-data-item-size">1.2MB</div>
                    <div class="upload-data-item-tools">
                        <button  onclick="deleteUploadFileItem(this)" class="upload-data-item-delete-btn ui blue button mini">
                            删除
                        </button>
                    </div>
                </div>
                <div class="upload-data-item-progress ui blue active bottom attached progress">
                    <div class="bar"></div>
                </div>
            </div>
        </div>
        <div class="upload-data-file-form">
            <input style="display: none;" type="file" multiple accept=".xlsx,.csv,.txt" id="file-upload-input">
            <div id="file-drop-area" class="ui placeholder segment">
                <div class="ui icon header">
                  <i class="file excel icon"></i>
                  拖拽或添加数据集文件,支持格式:xlsx,csv,txt
                </div>
            </div>
        </div>
    </div>
    <div data-step="1" class="client-model-process-step-box" style="display: none;">
        <div class="train-process-data-list-box">
            <div data-finish="false" data-process-id="" id="train-process-data-item-template" style="display: none;"  class="train-process-data-item upload-data-item" >
                <div class="train-process-data-item-progress ui blue active top attached progress">
                    <div class="bar"></div>
                </div>
                <div class="train-process-data-item-body upload-data-item-body">
                    <div class="upload-data-item-icon">
                        <i class="file icon"></i>
                    </div>
                    <div class="upload-data-item-name">mock.csv</div>
                    <div class="upload-data-item-hash">a1bc52</div>
                    <div class="upload-data-item-size">1.2MB</div>
                    <div class="train-process-data-item-status">配置中</div>
                    <div class="upload-data-item-tools">
                        <button  data-process-id="" onclick="startTrainProcessData(this)" class="ui blue button mini train-process-data-item-start-btn">
                            开始训练
                        </button>
                    </div>
                </div>
                <div class="train-process-data-config">
                    <div class="train-process-data-config-title">
                        模型训练配置
                    </div>
                    <div class="train-process-data-config-box">
                        <form data-process-id=""  class="train-process-data-config-form ui form small">
                            <div class="field">
                                <label>模型类型</label>
                                <div class="ui selection dropdown train-type">
                                    <i class="dropdown icon"></i>
                                    <div class="default text">自动识别</div>
                                    <input class="small" type="hidden" name="train_type">
                                </div>
                            </div>
                            <div class="field">
                                <label>特征字段</label>
                                <div class="ui action input">
                                    <input type="text" name="feature_field" value="">
                                    <div data-process-id="" onclick="queryFeatureField(this)" class="get-traffic-feature-field-btn ui blue left icon button">
                                      <i class="check icon"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="field">
                                <label>分类标签</label>
                                <select  class="ui dropdown tiny" name="train_label">
                                  <option value="">选择训练标签列</option>
                                </select>
                            </div>
                            <div class="field">
                                <label>评估指标</label>
                                <select multiple="" class="ui dropdown model-metrics">
                                    <option value="">选择评估指标</option>
                                    <option value="accuracy">准确率</option>
                                    <option value="precision">精确率</option>
                                    <option value="recall">召回率</option>
                                </select>
                                <input type="hidden" name="model_metrics">
                            </div>
                            <div class="field">
                                <label>测试数据比例</label>
                                <div class="ui selection dropdown test-ratio">
                                    <i class="dropdown icon"></i>
                                    <div class="default text">选择测试数据比例</div>
                                    <input class="small" type="hidden" name="test_ratio">
                                </div>
                            </div>
                            <button onclick="event.preventDefault(); deleteTrainProcessDataItem(this)" class="ui red mini button train-process-data-item-delete-btn">删除</button>
                        </form>
                        
                    </div>
                </div>
                <div data-process-id="" id="train-process-monitor-0" class="train-process-monitor" style="display: none;">
                    <div class="train-process-monitor-header model-info-header">
                        <div class="monitor-header-item">
                            <span class="label">模型ID:</span>
                            <span class="value">ML-2024001</span>
                        </div>
                        <div class="monitor-header-item">
                            <span class="label">模型类型:</span>
                            <span class="value">自动选择</span>
                        </div>
                        <div class="monitor-header-item">
                            <span class="label">模型状态:</span>
                            <span class="value">training</span>
                        </div>
                        <div class="monitor-header-item">
                            <span class="label">创建时间:</span>
                            <span class="value">2024-01-01 12:00:00</span>
                        </div>
                        <div class="monitor-header-item" style="display: none;">
                            <span class="label">训练用时:</span>
                            <span class="value">0s</span>
                        </div>
                    </div>
                    <div class="train-process-monitor-box">
                        <div class="monitor-item model-details" style="display: none;">
                            <div class="monitor-item-title">模型详情</div>
                            <div class="monitor-item-content model-details-content" >
                                <div class="detail-row" style="display: none;">
                                    <span class="label">example:</span>
                                    <span class="value">12</span>
                                </div>
                            
                                <!-- 模型详细信息将在这里通过JS动态插入 -->
                            </div>
                        </div>
                        <div class="monitor-item model-training" style="display: none;">
                            <div class="monitor-item-title">
                                训练详情
                                <button onclick="refreshTrainMonitor(this)"  class="ui blue button mini icon">
                                     刷新
                                </button>
                            </div>
                            <div class="monitor-item-content">
                                <div class="chart-container model-train-step-chart">
                                    <!-- 训练过程图表将在这里通过JS动态插入 -->
                                    <div class="model-train-loading">
                                        <i class="layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="monitor-item model-evaluation" style="display: none;">
                            <div class="monitor-item-title">
                                模型评估
                                <button onclick="refreshEvaluationMonitor(this)"  class="ui blue  button mini icon">
                                     刷新
                                </button>
                            </div>
                            <div class="monitor-item-content">
                                <div class="chart-container model-evaluate-step-chart">
                                    <!-- 评估结果图表将在这里通过JS动态插入 -->
                                    <div class="model-evaluate-loading">
                                        <i class="layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--模型信息处理-->
    <div data-step="2" class="client-model-process-step-box" style="display: none;">
        <div class="model-info-data-list-box">
            <div data-finish="false" data-process-id="" id="model-info-data-item-template" style="display: none;" class="model-info-data-item upload-data-item">
                <div class="model-info-data-item-progress ui blue active top attached progress">
                    <div class="bar"></div>
                </div>
                <div class="model-info-data-item-body upload-data-item-body">
                    <div class="upload-data-item-icon">
                        <i class="file icon"></i>
                    </div>
                    <div class="upload-data-item-name">mock.csv</div>
                    <div class="upload-data-item-hash">a1bc52</div>
                    <div class="upload-data-item-size">1.2MB</div>
                    <div class="model-info-data-item-status">配置中</div>
                    <div class="upload-data-item-tools">
                        <button data-process-id="" onclick="startModelInfoProcess(this)" class="ui blue button mini model-info-data-item-start-btn">
                            开始处理
                        </button>
                    </div>
                </div>
                <div class="model-info-data-config">
                    <div class="model-info-data-config-title">
                        模型信息配置
                    </div>
                    <div class="model-info-data-config-box">
                        <form data-process-id="" class="model-info-data-config-form ui form small">
                            <div class="field">
                                <label>模型名称</label>
                                <input type="text" name="model_name" placeholder="请输入模型名称">
                            </div>
                            <div class="field">
                                <label>模型算法</label>
                                <input type="hidden" name="model_algorithm">
                            </div>
                            <div class="field">
                                <label>模型描述</label>
                                <textarea name="description" placeholder="请输入模型描述"></textarea>
                            </div>
                            <div class="field">
                                <label>模型标签</label>
                                <select multiple="" class="ui dropdown model-tags">
                                    <option value="">选择模型标签</option>
                                    <option value="ddos">DDoS</option>
                                    <option value="5g">5G</option>
                                    <option value="sdn">SDN</option>
                                    <option value="satellite">卫星网络</option>
                                    <option value="iot">物联网</option>
                                    <option value="other">其他</option>
                                </select>
                                <input type="hidden" name="tags">
                            </div>
                            <div class="field">
                                <label>开源设置</label>
                                <div class="ui selection dropdown open-source">
                                    <i class="dropdown icon"></i>
                                    <div class="default text">选择是否开源</div>
                                    <input type="hidden" name="open_source">
                                    <div class="menu">
                                        <div class="item" data-value="1">开源</div>
                                        <div class="item" data-value="0">不开源</div>
                                    </div>
                                </div>
                            </div>
                            <div class="field">
                                <label>模型价值</label>
                                <input type="number" name="value" placeholder="请输入模型价值">
                            </div>
                            <button onclick="event.preventDefault(); deleteModelInfoDataItem(this)" class="ui red mini button model-info-data-item-delete-btn">删除</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div data-step="3" class="client-model-process-step-box" style="display: none;">
        <div class="model-upchain-data-list-box">
            <div data-finish="false" data-process-id="" id="model-upchain-data-item-template" style="display: none;"  class="model-upchain-data-item upload-data-item" >
                <div class="model-upchain-data-item-progress ui blue active top attached progress">
                    <div class="bar"></div>
                </div>
                <div class="model-upchain-data-item-body upload-data-item-body">
                    <div class="upload-data-item-icon">
                        <i class="file icon"></i>
                    </div>
                    <div class="upload-data-item-name">mock.csv</div>
                    <div class="upload-data-item-hash">a1bc52</div>
                    <div class="upload-data-item-size">1.2MB</div>
                    <div class="model-upchain-data-item-status">配置中</div>
                    <div class="upload-data-item-tools">
                        <button  data-process-id="" onclick="startModelUpchain(this)" class="ui blue button mini model-process-data-item-start-btn">
                            开始上链
                        </button>
                    </div>
                </div>
                <div class="model-upchain-data-config">
                    <div class="model-upchain-data-config-title">
                        上链配置
                    </div>
                    <div class="model-upchain-data-config-box">
                        <form data-process-id=""  class="model-upchain-data-config-form ui form small">
                            <div class="field">
                                <label>模型类型</label>
                                <div class="ui selection dropdown upchain-type">
                                    <i class="dropdown icon"></i>
                                    <div class="default text">流量模型</div>
                                    <input class="small" type="hidden" name="model_type">
                                </div>
                            </div>
                            <div class="field">
                                <label>IPFS地址</label>
                                <div class="ui action input">
                                    <input type="text" name="ipfs_address" value="">
                                      <div data-process-id="" onclick="getIpfsAddress(this)" class="check-ipfs-address-btn ui blue left icon button">
                                      <i class="left arrow icon"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="field">
                                <label>上链账户</label>
                                <div class="ui action input">
                                    <input type="text" name="upchain_account" value="">
                                    <div data-process-id="" onclick="getUpchainAccount(this)" class="get-upchain-account-btn ui blue left icon button">
                                      <i class="left arrow icon"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="field">
                                <label>账户密码</label>
                                <div class="ui action input">
                                    <input type="text" name="upchain_account_password" value="">
                                    <div data-process-id="" onclick="checkUpchainAccountPassword(this)" class="check-upchain-account-password-btn ui blue left icon button">
                                      <i class="check icon"></i>
                                    </div>
                                </div>
                            </div>
                            <button onclick="event.preventDefault(); deleteModelUpchainItem(this)" class="ui red mini button model-process-data-item-delete-btn">删除</button>
                        </form>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{{end}}