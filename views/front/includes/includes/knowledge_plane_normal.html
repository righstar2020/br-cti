{{define "kp_content"}}
<div class="plane-box-body-box-1">
    <div class="body-box-1-top">
        <div class="top-left-box">
            <div class="box-head">
                IOC分布地图
                <div class="box-head-toolbar head-toolbar-1">
                    <a class="ui small blue  label" data-tab="world">世界</a>
                    <a class="ui small label" data-tab="china">中国</a>
                </div>
            </div>
            <div class="box-body">
                <div id="ctiWorldMap"></div>
            </div>
        </div>
        <div class="top-right-box">
            <div class="box-head">
                IOC类型分布
                <div class="box-head-toolbar head-toolbar-2">
                    <a class="ui small blue  label" data-tab="ioc_type">IOC类型</a>
                    <a class="ui small label" data-tab="attack_type">攻击类型</a>
                </div>
            </div>
            <div class="box-body">
                <div id="typePieChart"></div>
            </div>
        </div>
    </div>
    <div class="body-box-1-buttom">
        <div class="box-head">
            攻击类型统计
            <div class="box-head-toolbar head-toolbar-3">
                <a class="ui small blue label" data-tab="hour">小时</a>
                <a class="ui small label" data-tab="day">天</a>
                <a class="ui small label" data-tab="month">月</a>
               
                
            </div>
        </div>
        <div class="box-body">
            <div id="ctiTimelineChart"></div>
        </div>
    </div>
</div>
<script type="text/javascript" src="/static/map/world.js"></script>
<script type="text/javascript" src="/static/map/china.js"></script>
<script type="text/javascript" src="/static/map/init_map.js"></script>
<script type="text/javascript" src="/static/front/js/init_kp_echart_normal.js"></script>
<script>
    $(document).ready(function() {
        //地图切换
        $('.head-toolbar-1 a').on('click', function() {
            // 移除所有 a 元素的 blue 类
            $('.head-toolbar-1 a').removeClass('blue');
            $('.head-toolbar-1 a').removeClass('red')
            var tabName = $(this).data("tab")
            console.log(tabName)
            if(tabName=="china"){
                $(this).removeClass('grey').addClass('red');
                //切换中国地图
                changeMapType("china");
            }
            else{
                $(this).removeClass('grey').addClass('blue');
                //切换世界地图
                changeMapType("world");
            }
               
        });
        //类型切换
        $('.head-toolbar-2 a').on('click', function() {
            // 移除所有 a 元素的 blue 类
            $('.head-toolbar-2 a').removeClass('blue');
            var tabName = $(this).data("tab")
            console.log(tabName)
            $(this).removeClass('grey').addClass('blue');
        });
        //时序图切换
        $('.head-toolbar-3 a').on('click', function() {
            // 移除所有 a 元素的 blue 类
            $('.head-toolbar-3 a').removeClass('blue');
            var tabName = $(this).data("tab")
            console.log(tabName)
            $(this).removeClass('grey').addClass('blue');
            changeTimelineMode(tabName)
        });
    });
</script>
{{end}}

	
 
